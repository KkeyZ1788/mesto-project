(()=>{"use strict";var e,t=function(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");r(t)}},n=function(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",t)},r=function(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",t)},o=document.querySelector(".popup_edit-profile"),c=o.querySelector(".popup__form_type_name"),u=o.querySelector(".popup__form_type_job"),i=document.querySelector(".profile__name"),s=document.querySelector(".profile__description"),a=document.querySelector(".popup_type_image"),d=a.querySelector(".popup__image-name"),l=a.querySelector(".popup__image"),p=function(){r(o)},m=function(e){if(e.target.classList.contains("popup")){var t=document.querySelector(".popup_is-opened");r(t)}},_=function(e){n(a);var t=e.target;l.src=t.src,d.textContent=t.alt,l.alt=t.alt},v=document.querySelector("#post-template").content,f=document.querySelector(".popup_add-card"),y=f.querySelector(".add-form"),S=y.querySelector(".popup__form_type_add-name"),q=y.querySelector(".popup__form_type_add-link"),k=y.querySelector(".add-card"),L=document.querySelector(".elements"),b=function(e){e.target.closest(".elements__item").remove()},E=function(e){e.target.classList.toggle("button_is-active")},g=function(e){var t=v.querySelector(".elements__item").cloneNode(!0),n=t.querySelector(".elements__img");return n.src=e.link,n.alt=e.name,n.addEventListener("click",_),t.querySelector(".elements__item-name").textContent=e.name,t.querySelector(".delete").addEventListener("click",b),t.querySelector(".elements__like-button").addEventListener("click",E),t},C=function(){r(f)},x=function(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove(n.inactiveButtonClass),t.removeAttribute("disabled")):(t.classList.add(n.inactiveButtonClass),t.setAttribute("disabled",!0))},h=document.querySelector(".profile__edit-button"),j=o.querySelector(".popup__close"),A=o.querySelector(".popup__content"),w=a.querySelector(".popup__close"),B=document.querySelector(".profile__add-button"),D=(y.querySelector(".add-card"),y.querySelector(".popup__close"));[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){return L.prepend(g(e))})),e={formSelector:".form",inputSelector:".popup__form",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"form__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(e.formSelector)).forEach((function(t){t.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);x(n,r,t),n.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,n){t.validity.valid?function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n.inputErrorClass),r.textContent=""}(e,t,n):function(e,t,n,r){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(r.inputErrorClass),o.textContent=n}(e,t,t.validationMessage,n)}(e,o,t),x(n,r,t)}))}))}(t,e)})),B.addEventListener("click",(function(){n(f)})),D.addEventListener("click",C),f.addEventListener("mousedown",m),y.addEventListener("submit",(function(e){e.preventDefault();var t=g({name:S.value,link:q.value});L.prepend(t),C(),S.value="",q.value="",k.classList.add("popup__button_disabled"),k.setAttribute("disabled",!0)})),w.addEventListener("click",(function(){r(a)})),a.addEventListener("mousedown",m),h.addEventListener("click",(function(){n(o),c.value=i.textContent,u.value=s.textContent})),j.addEventListener("click",p),o.addEventListener("mousedown",m),A.addEventListener("submit",(function(e){e.preventDefault(),i.textContent=c.value,s.textContent=u.value,r(o)})),j.addEventListener("click",p)})();